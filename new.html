<style>
  .todo-item {
    color: red;
  }
</style>

<script>
  import { select, selectAll, styles, useStore } from 'z.js'
  const todoCheck = select('#todoCheck');
  const buttons = selectAll('button');

  const [state, setState] = useStore()

  const data = {
    userName: state.$userName,
    todoItem: state.todoItem,
    edit: (id) => onEdit(id),
    delete: (id) => onDelete(id)
  }

  buttons.forEach(button => {
    if (styles.hasClass(button, 'edit-button')) {
      button.addEventListener('click', () => {
        console.log('edit button clicked!')
      })
    } else if (styles.hasClass(button, 'delete-button')) {
      button.addEventListener('click', () => {
        console.log('delete button clicked!')
      })
    }
  })

  todoCheck.addEventListener('change', (e) => {
    console.log('input changed to:', e.target.value);
  })
</script>

<template>
  <todo-item class="todo-item">
    <input type="checkbox" name="todoCheck" id="todoCheck" data-checked="{data.todoItem.completed}">
    <span>{data.todoItem.task}</span>
    <button class="edit-button">
      edit todo
    </button>
    <button class="delete-button">
      delete todo
    </button>
  </todo-item>
</template>